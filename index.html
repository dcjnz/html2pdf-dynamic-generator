<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>PDF Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    #output { padding: 20px; background: #fff; }
  </style>
</head>
<body>
  <div id="output"></div>
  <script>
    const params = new URLSearchParams(window.location.search);
    const rawHTML = decodeURIComponent(params.get("html") || "");
    const rawCSS = decodeURIComponent(params.get("css") || "");

    if (rawHTML) {
      const out = document.getElementById("output");
      out.innerHTML = rawHTML;

      // dodaj CSS jako <style>
      if (rawCSS) {
        const styleTag = document.createElement("style");
        styleTag.innerHTML = rawCSS;
        document.head.appendChild(styleTag);
      }

      setTimeout(() => html2pdf().from(out).save("dokument.pdf"), 500);
    } else {
      document.body.innerHTML = "<p>Brak parametru html w URL</p>";
    }
  </script>
</body>
</html>
